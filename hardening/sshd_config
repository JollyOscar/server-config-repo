# sshd_config# sshd_config

# This is the sshd server system-wide configuration file. See# This is the sshd server system-wide configuration file. See

# sshd_config(5) for more information.# sshd_config(5) for more information.



# This sshd was compiled with PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games# This sshd was compiled with PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games

# The strategy used for options in the default sshd_config shipped with# The strategy used for options in the default sshd_config shipped with

# OpenSSH is to specify options with their default value where# OpenSSH is to specify options with their default value where

# possible, but leave them commented. Uncommented options override the# possible, but leave them commented. Uncommented options override the

# default value.# default value.



Include /etc/ssh/sshd_config.d/*.confInclude /etc/ssh/sshd_config.d/*.conf



# When systemd socket activation is used (the default), the socket# When systemd socket activation is used (the default), the socket

# configuration must be re-generated after changing Port, AddressFamily, or# configuration must be re-generated after changing Port, AddressFamily, or

# ListenAddress.# ListenAddress.

##

# For changes to take effect, run:# For changes to take effect, run:

##

#   systemctl daemon-reload#   systemctl daemon-reload

#   systemctl restart ssh.socket#   systemctl restart ssh.socket



Port 2222Port 2222

AddressFamily inetAddressFamily inet

#ListenAddress 0.0.0.0#ListenAddress 0.0.0.0

# #ListenAddress ::# #ListenAddress ::



#HostKey /etc/ssh/ssh_host_rsa_key#HostKey /etc/ssh/ssh_host_rsa_key

#HostKey /etc/ssh/ssh_host_ecdsa_key#HostKey /etc/ssh/ssh_host_ecdsa_key

#HostKey /etc/ssh/ssh_host_ed25519_key#HostKey /etc/ssh/ssh_host_ed25519_key



# Ciphers and keying# Ciphers and keying

#RekeyLimit default none#RekeyLimit default none



# Logging# Logging

#SyslogFacility AUTH#SyslogFacility AUTH

#LogLevel INFO#LogLevel INFO



# Authentication:# Authentication:

LoginGraceTime 1mLoginGraceTime 1m

PermitRootLogin noPermitRootLogin no

StrictModes yesStrictModes yes

MaxAuthTries 3MaxAuthTries 3

MaxSessions 2MaxSessions 2

MaxStartups 2:30:5MaxStartups 2:30:5



#PubkeyAuthentication yes#PubkeyAuthentication yes

#Expect .ssh/authorized_keys2 to be disregarded by default in future.#Expect .ssh/authorized_keys2 to be disregarded by default in future.

#AuthorizedKeysFile      .ssh/authorized_keys .ssh/authorized_keys2#AuthorizedKeysFile      .ssh/authorized_keys .ssh/authorized_keys2



#AuthorizedPrincipalsFile noneAuthorizedPrincipalsFile no

AuthorizedPrincipalsFile no

#AuthorizedKeysCommand none

#AuthorizedKeysCommand none#AuthorizedKeysCommandUser nobody

#AuthorizedKeysCommandUser nobody

# For this to work you will also need host keys in /etc/ssh/ssh_known_hosts

# For this to work you will also need host keys in /etc/ssh/ssh_known_hosts#HostbasedAuthentication no

#HostbasedAuthentication no#IgnoreUserKnownHosts no

#IgnoreUserKnownHosts no#Don't read the user's ~/.rhosts and ~/.shosts files

#Don't read the user's ~/.rhosts and ~/.shosts files#IgnoreRhosts yes

#IgnoreRhosts yes

# Security hardening - disable password authentication

# Security hardening - disable password authenticationPasswordAuthentication no

PasswordAuthentication noPermitEmptyPasswords no

PermitEmptyPasswords noPubkeyAuthentication yes

PubkeyAuthentication yesKbdInteractiveAuthentication no

KbdInteractiveAuthentication noChallengeResponseAuthentication no

ChallengeResponseAuthentication no

# Kerberos options

# Kerberos options#KerberosAuthentication no

#KerberosAuthentication no#KerberosOrLocalPasswd yes

#KerberosOrLocalPasswd yes#KerberosTicketCleanup yes

#KerberosTicketCleanup yes

# GSSAPI options

# GSSAPI options#GSSAPIAuthentication no

#GSSAPIAuthentication no#GSSAPICleanupCredentials yes

#GSSAPICleanupCredentials yes#GSSAPIStrictAcceptorCheck yes

#GSSAPIStrictAcceptorCheck yes#GSSAPIKeyExchange no

#GSSAPIKeyExchange no

# Set this to 'yes' to enable PAM authentication, account processing,

# Set this to 'yes' to enable PAM authentication, account processing,# and session processing. If this is enabled, PAM authentication will

# and session processing. If this is enabled, PAM authentication will# be allowed through the KbdInteractiveAuthentication and

# be allowed through the KbdInteractiveAuthentication and# PasswordAuthentication. Depending on your PAM configuration,

# PasswordAuthentication. Depending on your PAM configuration,# PAM authentication via KbdInteractiveAuthentication may bypass

# PAM authentication via KbdInteractiveAuthentication may bypass# the setting of 'PermitRootLogin prohibit-password'

# the setting of 'PermitRootLogin prohibit-password'# If you just want the pam account and session checks to run without

# If you just want the pam account and session checks to run without# PAM authentication, then enable this but set PasswordAuthentication

# PAM authentication, then enable this but set PasswordAuthentication# and KbdInteractiveAuthentication to 'no'.

# and KbdInteractiveAuthentication to 'no'.#UsePAM yes

#UsePAM yes

#AllowAgentForwarding yes

# Security hardening options#AllowTcpForwarding yes

X11Forwarding no#GatewayPorts no

AllowAgentForwarding no# Security hardening options

AllowTcpForwarding noX11Forwarding no

PermitTunnel noAllowAgentForwarding no

PermitUserEnvironment noAllowTcpForwarding no

PrintMotd yesPermitTunnel no

PrintLastLog yesPermitUserEnvironment no

TCPKeepAlive yesPrintMotd yes

Compression noPrintLastLog yes

ClientAliveInterval 300TCPKeepAlive yes

ClientAliveCountMax 2Compression no

UseDNS noClientAliveInterval 300

GatewayPorts noClientAliveCountMax 2

UseDNS no

# Protocol and cipher hardeningGatewayPorts no

Protocol 2

Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr# Protocol and cipher hardening

MACs hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha2-256,hmac-sha2-512Protocol 2

KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512Ciphers chacha20-poly1305@openssh.com,aes256-gcm@openssh.com,aes128-gcm@openssh.com,aes256-ctr,aes192-ctr,aes128-ctr

MACs hmac-sha2-256-etm@openssh.com,hmac-sha2-512-etm@openssh.com,hmac-sha2-256,hmac-sha2-512

# User restrictions (replace 'admin' with your actual admin username)KexAlgorithms curve25519-sha256@libssh.org,diffie-hellman-group16-sha512,diffie-hellman-group18-sha512

AllowUsers admin

DenyUsers root# User restrictions (replace 'admin' with your actual admin username)

AllowUsers admin

#PermitTTY yesDenyUsers root

#PrintLastLog yes

#TCPKeepAlive yes# no default banner path

#PermitUserEnvironment no#Banner none

#Compression delayed

#ClientAliveInterval 0# Allow client to pass locale environment variables

#ClientAliveCountMax 3AcceptEnv LANG LC_*

#UseDNS no

#PidFile /run/sshd.pid# override default of no subsystems

#PermitTunnel noSubsystem sftp /usr/lib/openssh/sftp-server

#ChrootDirectory none

#VersionAddendum none#Match User anoncvs

#       AllowTCPForwarding no

# no default banner path#       PermitTTY no

#Banner none#       ForceCommand cvs server

#     ForceCommand cvs server

# Allow client to pass locale environment variables
AcceptEnv LANG LC_*

# override default of no subsystems
Subsystem sftp /usr/lib/openssh/sftp-server

#Match User anoncvs
#       AllowTCPForwarding no
#       PermitTTY no
#       ForceCommand cvs server